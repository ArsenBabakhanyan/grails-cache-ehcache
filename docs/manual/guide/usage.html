<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>2 Usage 1.0.2-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction To The Cache Plugin</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/usage.html"><strong>2</strong><span>Usage</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>An Ehcache-based implementation of the Cache plugin</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction To The Cache Plugin</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>2 Usage - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Burt Beckwith</p>

                    <p><strong>Version:</strong> 1.0.2-SNAPSHOT</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#dsl"><strong>2.1</strong><span>Cache DSL</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="usage">2 Usage</h1>
Although this plugin uses a different backing store than the core plugin, its usage is the same. You annotate service methods, controller action methods, and taglib closures with the three caching annotations, and configure caches in <code>Config.groovy</code> and/or &#42;CacheConfig.groovy artifacts in <code>grails-app/conf</code>. See the <a href="http://grails-plugins.github.com/grails-cache/" target="blank">core plugin docs</a> for general usage information.<p class="paragraph"/>Ehcache supports many configuration options and most are available in the cache DSL, including support for distributed caching. See the DSL section for details.


<h2 id="dsl">2.1 Cache DSL</h2>
The full Ehcache DSL will not be documented because except for some exceptions and extensions, the DSL is nearly identical to the XML format for the <code>ehcache.xml</code> file, although of course the syntax is somewhat different. The <code>ehcache.xml</code> syntax is described in <a href="http://ehcache.org/ehcache.xml" target="blank">this well commented example</a> and you can view the XML Schema <a href="http://ehcache.org/ehcache.xsd" target="blank">here</a>. The DSL uses types where appropriate, for example numeric and boolean values; this isn't possible in XML since all attributes must be strings.<p class="paragraph"/><h4>General configuration</h4><p class="paragraph"/>The configuration options closures (entirely optional) could look like this example:<p class="paragraph"/><div class="code"><pre>grails&#123;
   cache &#123;
      enabled = <span class="java&#45;keyword">true</span>
      ehcache &#123;
         ehcacheXmlLocation = 'classpath:ehcache.xml' // conf/ehcache.xml
         reloadable = <span class="java&#45;keyword">false</span>
      &#125;
   &#125;
&#125;</pre></div>
<ul class="star">
<li><code>enabled</code> determines if the plugin is enabled. If false, then all caching operations are no-ops (as if all cache retrievals are misses).</li>
<li><code>ehcacheXmlLocation</code> optionally specifies where <code>ehcache.xml</code> can be found.</li>
<li><code>reloadable</code> determines if groovy and ehcache.xml specified configuration can be reloaded at one time (false means configuration is only read at startup).</li>
</ul><p class="paragraph"/><h4>Caches</h4><p class="paragraph"/>Like in the core plugin, you configure a cache with the <code>cache</code> call, and set configuration options in a closure, for example<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   cache &#123;
      name 'mycache'
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000
   &#125;
&#125;</pre></div><p class="paragraph"/>The <code>name</code> attribute is mandatory, and all of the other attributes correspond to the ehcache.xml XML attributes for the <code>&#60;cache&#62;</code> tag.<p class="paragraph"/><h4>Default cache and cache defaults</h4><p class="paragraph"/>Ehcache supports auto-creation of caches and this is enabled in this implementation, so if you call the <code>getCache(String name)</code> method on the <code>CacheManager</code> (via the <code>grailsCacheManager</code> bean) and the cache didn't already exist it would be created and returned. Since it didn't already exist there is no configuration for it, so it uses the settings for the "default cache", for example:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   cache &#123;
      &#8230;
   &#125;<p class="paragraph"/>   defaultCache &#123;
      maxElementsInMemory 10000
      eternal <span class="java&#45;keyword">false</span>
      timeToIdleSeconds 120
      timeToLiveSeconds 120
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsOnDisk 10000000
      diskPersistent <span class="java&#45;keyword">false</span>
      diskExpiryThreadIntervalSeconds 120
      memoryStoreEvictionPolicy 'LRU'
   &#125;
&#125;</pre></div><p class="paragraph"/>It is important to specify the <code>defaultCache</code> configuration since Ehcache will throw an exception if you attempt to auto-create a cache and there are is no default configuration. You may want this behavior though, since if you are confident that you have specified all known caches then auto-creating a new cache is probably due to a typo or programming error.<p class="paragraph"/>Don't confuse <code>defaultCache</code> with <code>defaults</code>. The latter helps keep your configuration DRY and isn't a feature of Ehcache. This feature lets you specify default values that all caches must have, for example<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   cache &#123;
      &#8230;
   &#125;<p class="paragraph"/>   defaults &#123;
      maxElementsInMemory 1000
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">false</span>
      maxElementsOnDisk 0
   &#125;
&#125;</pre></div><p class="paragraph"/>These values are set on each cache configuration while the DSL is being parsed, and you can override any value in a <code>cache</code> definition, for example where most caches use the default value but a few have custom values.<p class="paragraph"/>Note that the special <code>hibernateQuery</code> and <code>hibernateTimestamps</code> caches (see below) and caches auto-created by Ehcache using the values in <code>defaultCache</code> do not use values in the <code>defaults</code> configuration. The Hibernate caches don't because they are special-purpose caches and unlikely to share general default settings, and the auto-created caches don't because Ehcache doesn't know about this feature.<p class="paragraph"/><h4>The "provider" block</h4><p class="paragraph"/>All cache DSLs support a <code>provider</code> block, it isn't applicable for all DSLs. This is a way to specify provider-specific values, for example<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   cache &#123;
       &#8230;
   &#125;<p class="paragraph"/>   provider &#123;
      updateCheck <span class="java&#45;keyword">false</span>
      monitoring 'on'
      dynamicConfig <span class="java&#45;keyword">false</span>
      defaultTransactionTimeoutInSeconds 30
      maxBytesLocalHeap 10
      maxBytesLocalOffHeap 20
      maxBytesLocalDisk 30
   &#125;
&#125;</pre></div><p class="paragraph"/>In the case of Ehcache, these settings end up in the top-level <code>&#60;ehcache&#62;</code> tag, e.g.<p class="paragraph"/><div class="code"><pre>&#60;ehcache defaultTransactionTimeoutInSeconds=<span class="java&#45;quote">"30"</span> dynamicConfig=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
         maxBytesLocalDisk=<span class="java&#45;quote">"30"</span> maxBytesLocalHeap=<span class="java&#45;quote">"10"</span>
         maxBytesLocalOffHeap=<span class="java&#45;quote">"20"</span> monitoring=<span class="java&#45;quote">"on"</span> updateCheck=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>&#62;</pre></div><p class="paragraph"/><h4>Hibernate</h4><p class="paragraph"/>To have Hibernate use ehcache, modify DataSource.groovy:<p class="paragraph"/><div class="code"><pre>hibernate &#123;
   cache.use_second_level_cache = <span class="java&#45;keyword">true</span> // set based on whether the second level cache is desired
   cache.use_query_cache = <span class="java&#45;keyword">true</span> // set based on whether the query cache is desired
   cache.region.factory_class = 'grails.plugin.cache.ehcache.hibernate.BeanEhcacheRegionFactory' // For Hibernate before 4.0
   cache.region.factory_class = 'grails.plugin.cache.ehcache.hibernate.BeanEhcacheRegionFactory4' // For Hibernate before 4.0 and higher
&#125;</pre></div><p class="paragraph"/><h4>Hibernate second-level cache</h4><p class="paragraph"/>It is possible to use Ehcache as the Hibernate second-level cache provider and as the provider for the caches managed by this plugin, or use different providers for each. It's more convenient to use Ehcache for both however and the DSL has support for configuring both at the same time.<p class="paragraph"/>Hibernate uses two caches, one for its query cache (with name "org.hibernate.cache.StandardQueryCache") and one for tracking the timestamps of the most recent table updates (with name "org.hibernate.cache.UpdateTimestampsCache"). The DSL supports two methods that create reasonable configurations for these caches (but you're free to configure your own). Including a call to the <code>hibernateQuery()</code> method will generate this XML:<p class="paragraph"/><div class="code"><pre>&#60;cache name=<span class="java&#45;quote">"org.hibernate.cache.StandardQueryCache"</span>
       maxElementsInMemory=<span class="java&#45;quote">"50"</span>
       timeToLiveSeconds=<span class="java&#45;quote">"120"</span>
       eternal=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
       overflowToDisk=<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>
       maxElementsOnDisk=<span class="java&#45;quote">"0"</span>
/&#62;</pre></div><p class="paragraph"/>and a call to the <code>hibernateTimestamps()</code> method will generate this XML:<p class="paragraph"/><div class="code"><pre>&#60;cache name=<span class="java&#45;quote">"org.hibernate.cache.UpdateTimestampsCache"</span>
       maxElementsInMemory=<span class="java&#45;quote">"5000"</span>
       eternal=<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>
       overflowToDisk=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
       maxElementsOnDisk=<span class="java&#45;quote">"0"</span>
/&#62;</pre></div><p class="paragraph"/><h4>Hibernate domain class second-level caches</h4><p class="paragraph"/>Typically you configure a cache with the <code>cache</code> call, but "domain" is an alias for "cache" and can be used when configuring caches for domain classes to make it clear what the cache is used for. Hibernate expects that the cache name is the full class name including the package; you can specify the full class and package as the "name" attribute:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   domain &#123;
      name 'com.yourcompany.yourapp.Person'
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000
   &#125;
&#125;</pre></div><p class="paragraph"/>but you also use the class name to get a compile-time verification that the class is correct:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> com.yourcompany.yourapp.Person<p class="paragraph"/>&#8230;
grails.cache.config = &#123;
   domain &#123;
      name Person
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000
   &#125;
&#125;</pre></div><p class="paragraph"/>When you have configured caching for a mapped collection (for example the <code>books</code> collection in an <code>Author</code> class) Hibernate expects the cache name to be the containing class full name plus the collection field name. Use the <code>domainCollection</code> call with an inner <code>domain</code> attribute to tell the DSL what the name of the owning class is, e.g.<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   domain &#123;
      name 'com.foo.Author'
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000
   &#125;<p class="paragraph"/>   domainCollection &#123;
      name 'books'
      domain 'com.foo.Author'
      eternal <span class="java&#45;keyword">true</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 100
      maxElementsOnDisk 10000
   &#125;
&#125;</pre></div><p class="paragraph"/>Or you can use the more compact inner closure syntax and omit the <code>domain</code> attribute:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   domain &#123;
      name 'com.foo.Author'
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000<p class="paragraph"/>      collection &#123;
         name 'books'
         eternal <span class="java&#45;keyword">true</span>
         overflowToDisk <span class="java&#45;keyword">true</span>
         maxElementsInMemory 100
         maxElementsOnDisk 10000
      &#125;
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>diskStore</h4><p class="paragraph"/>If any cache supports overflowing to disk, you need to configure where to store this data with the <code>diskStore</code> call. You can specify an absolute path (but this is likely to be a brittle and non-portable approach):<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   &#8230;
   diskStore &#123;
      path '/tmp/ehcache'
   &#125;
&#125;</pre></div><p class="paragraph"/>You can also call <code>temp true</code> to use the value of the <code>java.io.tmpdir</code> system property:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   &#8230;
   diskStore &#123;
      temp <span class="java&#45;keyword">true</span>
   &#125;
&#125;</pre></div><p class="paragraph"/>or <code>home true</code> to use the value of the <code>user.home</code> system property:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   &#8230;
   diskStore &#123;
      home <span class="java&#45;keyword">true</span>
   &#125;
&#125;</pre></div><p class="paragraph"/>or <code>current true</code> to use the value of the <code>user.dir</code> system property:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   &#8230;
   diskStore &#123;
      current <span class="java&#45;keyword">true</span>
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>Overriding values</h4><p class="paragraph"/>You can specify cache configuration in multiple places; the application's <code>Config.groovy</code>, the application's &#42;CacheConfig.groovy artifact files in <code>grails-app/conf</code>, and in plugins' &#42;CacheConfig.groovy artifact files in their <code>grails-app/conf</code> directories. Configurations that are loaded later will replace previously set values and add new ones; this can be configured with the <code>order</code> attribute.<p class="paragraph"/>So for example a plugin might have this configuration:<p class="paragraph"/><div class="code"><pre>order = 500<p class="paragraph"/>config = &#123;
   cache &#123;
      name 'the_cache'
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 2
      maxElementsOnDisk 3
   &#125;
&#125;</pre></div><p class="paragraph"/>and the application's <code>Config.groovy</code> might have this:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   cache &#123;
      name 'the_cache'
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000
   &#125;<p class="paragraph"/>   cache &#123;
      name 'another_cache'
      &#8230;
   &#125;<p class="paragraph"/>   defaults &#123;
      timeToLiveSeconds 1234
   &#125;
&#125;</pre></div><p class="paragraph"/>Since the plugin's <code>order</code> is lower than that of the <code>Config.groovy</code> (since order is unspecified it defaults to 1000) the resulting configuration will be as if this single configuration existed:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   cache &#123;
      name 'the_cache'
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">true</span>
      maxElementsInMemory 10000
      maxElementsOnDisk 10000000
   &#125;<p class="paragraph"/>   cache &#123;
      name 'another_cache'
      &#8230;
   &#125;<p class="paragraph"/>   defaults &#123;
      timeToLiveSeconds 1234
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>Environments</h4><p class="paragraph"/>A <code>cache</code> (or <code>domain</code>) element can specify one or more environment names to define when the cache is valid; when the DSL is evaluated the XML will only contain caches that are valid for the active environment. You can specify a single string:<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   domain &#123;
      name 'com.foo.Other'
      env 'staging'
   &#125;
&#125;</pre></div><p class="paragraph"/>or a list of strings<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   domain &#123;
      name 'com.foo.Book'
      env(&#91;'staging', 'production'&#93;)
   &#125;
&#125;</pre></div><p class="paragraph"/>and if no environments are specified the cache will be included in all environments.<p class="paragraph"/><h4>Distributed caches</h4><p class="paragraph"/>The DSL includes support for distributed caches, which are implemented with the <code>cacheManagerPeerProviderFactory</code>, <code>cacheManagerPeerListenerFactory</code>, <code>cacheManagerEventListenerFactory</code>, <code>bootstrapCacheLoaderFactory</code>, <code>cacheExceptionHandlerFactory</code>, <code>cacheEventListenerFactory</code>, <code>cacheLoaderFactory</code>, and <code>cacheExtensionFactory</code> calls. These support the same attributes as the corresponding XML elements except that the <code>class</code> XML attribute is <code>className</code> in the DSL.<p class="paragraph"/>In addition, there are several shortcuts for common values. These include symbols to use for time to live (TTL) numeric values for the <code>timeToLive</code> property in a <code>cacheManagerPeerProviderFactory</code> element:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">DSL name</strong></th><th><strong class="bold">value</strong></th></tr><tr class="table-odd"><td>"host"</td><td>0</td></tr><tr class="table-even"><td>"subnet"</td><td>1</td></tr><tr class="table-odd"><td>"site"</td><td>32</td></tr><tr class="table-even"><td>"region"</td><td>64</td></tr><tr class="table-odd"><td>"continent"</td><td>128</td></tr><tr class="table-even"><td>"unrestricted"</td><td>255</td></tr></table><p class="paragraph"/>symbols to use for <code>cacheManagerPeerProviderFactory</code> element <code>className</code> attribute:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">DSL name</strong></th><th><strong class="bold">class name</strong></th></tr><tr class="table-odd"><td>"rmi"</td><td>"net.sf.ehcache.distribution.RMICacheManagerPeerProviderFactory"</td></tr><tr class="table-even"><td>"jgroups"</td><td>"net.sf.ehcache.distribution.jgroups.JGroupsCacheManagerPeerProviderFactory"</td></tr><tr class="table-odd"><td>"jms"</td><td>"net.sf.ehcache.distribution.jms.JMSCacheManagerPeerProviderFactory"</td></tr></table><p class="paragraph"/>symbols to use for <code>cacheEventListenerFactory</code> element <code>className</code> attribute:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">DSL name</strong></th><th><strong class="bold">class name</strong></th></tr><tr class="table-odd"><td>"rmi"</td><td>"net.sf.ehcache.distribution.RMICacheReplicatorFactory"</td></tr><tr class="table-even"><td>"jgroups"</td><td>"net.sf.ehcache.distribution.jgroups.JGroupsCacheReplicatorFactory"</td></tr><tr class="table-odd"><td>"jms"</td><td>"net.sf.ehcache.distribution.jms.JMSCacheReplicatorFactory"</td></tr></table><p class="paragraph"/>and symbols to use for <code>bootstrapCacheLoaderFactory</code> element <code>className</code> attribute:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">DSL name</strong></th><th><strong class="bold">class name</strong></th></tr><tr class="table-odd"><td>"rmi"</td><td>"net.sf.ehcache.distribution.RMIBootstrapCacheLoaderFactory"</td></tr><tr class="table-even"><td>"jgroups"</td><td>"net.sf.ehcache.distribution.jgroups.JGroupsBootstrapCacheLoaderFactory"</td></tr></table><p class="paragraph"/>Note also that environment support (which is valid in any <code>cache</code> (or <code>domain</code>) element and any distributed element) is especially important for distributed configuration. Most users will run non-distributed in development and possibly test environments, and only enable it in production or production-like environments. By adding one or more environment values to these elements you can have a single DSL that works in any environment. For example, this Groovy code<p class="paragraph"/><div class="code"><pre>grails.cache.config = &#123;
   defaults &#123;
      maxElementsInMemory 1000
      eternal <span class="java&#45;keyword">false</span>
      overflowToDisk <span class="java&#45;keyword">false</span>
      maxElementsOnDisk 0
      cacheEventListenerFactoryName 'cacheEventListenerFactory'
   &#125;<p class="paragraph"/>   domain &#123;
      name 'com.foo.Book'
   &#125;<p class="paragraph"/>   cacheManagerPeerProviderFactory &#123;
      env 'production'
      factoryType 'rmi'
      multicastGroupAddress '$&#123;ehcacheMulticastGroupAddress&#125;'
      multicastGroupPort '$&#123;ehcacheMulticastGroupPort&#125;'
      timeToLive 'subnet'
   &#125;<p class="paragraph"/>   cacheManagerPeerListenerFactory &#123;
      env 'production'
   &#125;<p class="paragraph"/>   cacheEventListenerFactory &#123;
      env 'production'
      name 'cacheEventListenerFactory'
      factoryType 'rmi'
      replicateAsynchronously <span class="java&#45;keyword">false</span>
   &#125;
&#125;</pre></div><p class="paragraph"/>will generate this XML in production:<p class="paragraph"/><div class="code"><pre>&#60;ehcache ...&#62;<p class="paragraph"/>   &#60;diskStore path=<span class="java&#45;quote">"java.io.tmpdir"</span> /&#62;<p class="paragraph"/>   &#60;defaultCache
          maxElementsInMemory=<span class="java&#45;quote">"10000"</span>
          eternal=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          timeToIdleSeconds=<span class="java&#45;quote">"120"</span>
          timeToLiveSeconds=<span class="java&#45;quote">"120"</span>
          overflowToDisk=<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>
          maxElementsOnDisk=<span class="java&#45;quote">"10000000"</span>
          diskPersistent=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          diskExpiryThreadIntervalSeconds=<span class="java&#45;quote">"120"</span>
          memoryStoreEvictionPolicy=<span class="java&#45;quote">"LRU"</span>
   /&#62;<p class="paragraph"/>   &#60;cacheManagerPeerProviderFactory
      class='net.sf.ehcache.distribution.RMICacheManagerPeerProviderFactory'
      properties=<span class="java&#45;quote">"multicastGroupAddress=$&#123;ehcacheMulticastGroupAddress&#125;,
                  multicastGroupPort=$&#123;ehcacheMulticastGroupPort&#125;,
                  timeToLive=1,peerDiscovery=automatic"</span>
      propertySeparator=','
   /&#62;<p class="paragraph"/>   &#60;cacheManagerPeerListenerFactory
      class='net.sf.ehcache.distribution.RMICacheManagerPeerListenerFactory' /&#62;<p class="paragraph"/>   &#60;cache name=<span class="java&#45;quote">"com.foo.Book"</span>
          maxElementsInMemory=<span class="java&#45;quote">"1000"</span>
          eternal=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          overflowToDisk=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          maxElementsOnDisk=<span class="java&#45;quote">"0"</span>&#62;<p class="paragraph"/>      &#60;cacheEventListenerFactory
         class='net.sf.ehcache.distribution.RMICacheReplicatorFactory'
         properties=<span class="java&#45;quote">"replicateAsynchronously=<span class="java&#45;keyword">false</span>"</span>
         propertySeparator=','
      /&#62;
   &#60;/cache&#62;<p class="paragraph"/>&#60;/ehcache&#62;</pre></div><p class="paragraph"/>(note that &#36;{ehcacheMulticastGroupAddress} and &#36;{ehcacheMulticastGroupPort} are an Ehcache feature that lets you use system property names as variables to be resolved at runtime)<p class="paragraph"/>and this XML in development:<p class="paragraph"/><div class="code"><pre>&#60;ehcache ...&#62;<p class="paragraph"/>   &#60;diskStore path=<span class="java&#45;quote">"java.io.tmpdir"</span> /&#62;<p class="paragraph"/>   &#60;defaultCache
          maxElementsInMemory=<span class="java&#45;quote">"10000"</span>
          eternal=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          timeToIdleSeconds=<span class="java&#45;quote">"120"</span>
          timeToLiveSeconds=<span class="java&#45;quote">"120"</span>
          overflowToDisk=<span class="java&#45;quote">"<span class="java&#45;keyword">true</span>"</span>
          maxElementsOnDisk=<span class="java&#45;quote">"10000000"</span>
          diskPersistent=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          diskExpiryThreadIntervalSeconds=<span class="java&#45;quote">"120"</span>
          memoryStoreEvictionPolicy=<span class="java&#45;quote">"LRU"</span>
   /&#62;<p class="paragraph"/>   &#60;cache name=<span class="java&#45;quote">"com.foo.Book"</span>
          maxElementsInMemory=<span class="java&#45;quote">"1000"</span>
          eternal=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          overflowToDisk=<span class="java&#45;quote">"<span class="java&#45;keyword">false</span>"</span>
          maxElementsOnDisk=<span class="java&#45;quote">"0"</span>
   /&#62;<p class="paragraph"/>&#60;/ehcache&#62;</pre></div>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction To The Cache Plugin</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
